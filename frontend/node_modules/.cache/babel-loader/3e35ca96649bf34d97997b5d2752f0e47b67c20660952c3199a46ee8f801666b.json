{"ast":null,"code":"\"use client\";\n\n// MapView.js - Enhanced version with bus selection handling\nvar _jsxFileName = \"D:\\\\225 v2\\\\frontend\\\\src\\\\components\\\\MapView.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { MapContainer, TileLayer, Marker, Polyline, Popup } from \"react-leaflet\";\nimport L from \"leaflet\";\nimport socket from \"../socket\"; // Using centralized socket configuration\nimport \"leaflet/dist/leaflet.css\";\n\n// Fix for default markers\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: \"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png\",\n  iconUrl: \"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png\",\n  shadowUrl: \"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png\"\n});\n\n// Custom bus icon\nconst createBusIcon = (color = \"blue\") => {\n  return new L.Icon({\n    iconUrl: \"/shuttle-bus.png\",\n    iconSize: [32, 32],\n    iconAnchor: [16, 16],\n    popupAnchor: [0, -16]\n  });\n};\n\n// Custom stop icon\nconst createStopIcon = () => {\n  return new L.Icon({\n    iconUrl: \"/bus-stop.png\",\n    iconSize: [28, 28],\n    iconAnchor: [14, 14],\n    popupAnchor: [0, -14]\n  });\n};\nexport default function MapView() {\n  _s();\n  const [buses, setBuses] = useState({});\n  const [stops, setStops] = useState([]);\n  const [connectionStatus, setConnectionStatus] = useState(\"connecting\");\n  const [selectedBus, setSelectedBus] = useState(null);\n  const mapRef = useRef(null);\n  useEffect(() => {\n    const handleBusUpdate = data => {\n      setBuses(data);\n      setConnectionStatus(\"connected\");\n\n      // Process stops from server data\n      const allStops = [];\n      Object.values(data).forEach(bus => {\n        if (bus && bus.stops && Array.isArray(bus.stops) && bus.route && Array.isArray(bus.route)) {\n          bus.stops.forEach(stopIndex => {\n            if (bus.route[stopIndex]) {\n              allStops.push({\n                position: bus.route[stopIndex],\n                busName: bus.name || `Bus ${bus.id}`,\n                busId: bus.id,\n                stopIndex: stopIndex\n              });\n            }\n          });\n        }\n      });\n      setStops(allStops);\n    };\n    const handleBusSelected = busDetails => {\n      console.log(\"Bus selected from admin panel:\", busDetails);\n      setSelectedBus(busDetails);\n\n      // Center map on selected bus\n      if (mapRef.current && busDetails.currentPosition) {\n        mapRef.current.setView(busDetails.currentPosition, 15);\n      }\n    };\n    socket.on(\"connect\", () => {\n      console.log(\"✅ Connected to server\");\n      setConnectionStatus(\"connected\");\n      socket.emit(\"getBuses\");\n    });\n    socket.on(\"disconnect\", () => {\n      console.log(\"❌ Disconnected from server\");\n      setConnectionStatus(\"disconnected\");\n    });\n    socket.on(\"connect_error\", error => {\n      console.error(\"Connection error:\", error);\n      setConnectionStatus(\"error\");\n    });\n    socket.on(\"busUpdate\", handleBusUpdate);\n    socket.on(\"busSelected\", handleBusSelected);\n    return () => {\n      socket.off(\"busUpdate\", handleBusUpdate);\n      socket.off(\"busSelected\", handleBusSelected);\n    };\n  }, []);\n  const defaultCenter = [22.5726, 88.3639];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: \"20px\",\n      maxWidth: \"1200px\",\n      margin: \"0 auto\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        textAlign: \"center\",\n        marginBottom: \"20px\",\n        color: \"#2c3e50\"\n      },\n      children: [\"\\uD83D\\uDE8C Bus-Karo Live Tracking\", selectedBus && /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          fontSize: \"1rem\",\n          color: \"#666\",\n          marginLeft: \"15px\"\n        },\n        children: [\"Selected: \", selectedBus.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: \"15px\",\n        marginBottom: \"20px\",\n        borderRadius: \"12px\",\n        textAlign: \"center\",\n        backgroundColor: connectionStatus === \"connected\" ? \"#d1fae5\" : \"#fee2e2\",\n        color: connectionStatus === \"connected\" ? \"#065f46\" : \"#b91c1c\",\n        border: \"1px solid\",\n        borderColor: connectionStatus === \"connected\" ? \"#a7f3d0\" : \"#fecaca\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Status:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), \" \", connectionStatus.toUpperCase(), \" |\", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \" Buses:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 68\n      }, this), \" \", Object.keys(buses).length, \" \", \"|\", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \" Stops:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 10\n      }, this), \" \", stops.length, selectedBus && ` | Selected: ${selectedBus.name}`]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MapContainer, {\n      center: defaultCenter,\n      zoom: 13,\n      style: {\n        height: \"500px\",\n        width: \"100%\",\n        borderRadius: \"12px\",\n        boxShadow: \"0 4px 12px rgba(0,0,0,0.2)\"\n      },\n      ref: mapRef,\n      children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n        attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), stops.map((stop, index) => /*#__PURE__*/_jsxDEV(Marker, {\n        position: stop.position,\n        icon: createStopIcon(),\n        children: /*#__PURE__*/_jsxDEV(Popup, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              minWidth: \"150px\",\n              textAlign: \"center\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              style: {\n                margin: \"0 0 10px 0\",\n                color: \"#dc2626\"\n              },\n              children: \"\\uD83D\\uDE8F Bus Stop\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: stop.busName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Stop #\", stop.stopIndex + 1]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this)\n      }, `stop-${index}-${stop.busId}-${stop.stopIndex}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 11\n      }, this)), Object.keys(buses).length > 0 ? Object.keys(buses).map(busId => {\n        var _bus$distance;\n        const bus = buses[busId];\n\n        // Skip buses without route data\n        if (!bus.route || !Array.isArray(bus.route) || bus.route.length === 0) {\n          return null;\n        }\n        const isSelected = selectedBus && selectedBus.id === bus.id;\n        return /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Marker, {\n            position: [bus.lat, bus.lon],\n            icon: createBusIcon(bus.color),\n            eventHandlers: {\n              click: () => {\n                setSelectedBus({\n                  id: bus.id,\n                  name: bus.name,\n                  currentPosition: [bus.lat, bus.lon],\n                  speed: bus.speed,\n                  status: bus.status,\n                  passengers: bus.passengers,\n                  capacity: bus.capacity\n                });\n              }\n            },\n            children: /*#__PURE__*/_jsxDEV(Popup, {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  minWidth: \"220px\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  style: {\n                    margin: \"0 0 10px 0\",\n                    color: \"#2c3e50\",\n                    borderBottom: \"2px solid #eee\",\n                    paddingBottom: \"5px\",\n                    backgroundColor: isSelected ? \"#fff3cd\" : \"transparent\",\n                    padding: isSelected ? \"10px\" : \"0\",\n                    borderRadius: isSelected ? \"5px\" : \"0\"\n                  },\n                  children: [\"\\uD83D\\uDE8C \", bus.name, isSelected && /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: \"#856404\",\n                      fontSize: \"12px\",\n                      marginLeft: \"10px\"\n                    },\n                    children: \"SELECTED\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 215,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: \"grid\",\n                    gridTemplateColumns: \"1fr 1fr\",\n                    gap: \"8px\",\n                    marginBottom: \"10px\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Speed:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 223,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [bus.speed || 0, \" km/h\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 225,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Status:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 228,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 227,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        padding: \"2px 6px\",\n                        borderRadius: \"4px\",\n                        fontSize: \"12px\",\n                        backgroundColor: bus.status === \"moving\" ? \"#d4edda\" : bus.status === \"stopped\" ? \"#f8d7da\" : bus.status === \"decelerating\" ? \"#fff3cd\" : \"#e2e3e5\",\n                        color: bus.status === \"moving\" ? \"#155724\" : bus.status === \"stopped\" ? \"#721c24\" : bus.status === \"decelerating\" ? \"#856404\" : \"#383d41\"\n                      },\n                      children: bus.status\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 231,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 230,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Distance:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 259,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 258,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [((_bus$distance = bus.distance) === null || _bus$distance === void 0 ? void 0 : _bus$distance.toFixed(2)) || \"0\", \" km\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Passengers:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 264,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [bus.passengers, \"/\", bus.capacity]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 266,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    backgroundColor: \"#f8f9fa\",\n                    padding: \"10px\",\n                    borderRadius: \"5px\",\n                    marginBottom: \"10px\",\n                    borderLeft: \"4px solid #007bff\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    style: {\n                      margin: \"0 0 8px 0\",\n                      fontSize: \"14px\",\n                      color: \"#495057\"\n                    },\n                    children: \"Next Stop\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 281,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      margin: \"2px 0\",\n                      fontSize: \"13px\"\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Distance:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 283,\n                      columnNumber: 27\n                    }, this), \" \", bus.distanceToNextStop < 1000 ? `${bus.distanceToNextStop} m` : `${(bus.distanceToNextStop / 1000).toFixed(2)} km`]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      margin: \"2px 0\",\n                      fontSize: \"13px\"\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Stop:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 289,\n                      columnNumber: 27\n                    }, this), \" \", bus.currentStopNumber || 1, \"/\", bus.totalStops || 1]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 288,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    marginBottom: \"10px\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: \"flex\",\n                      justifyContent: \"space-between\",\n                      marginBottom: \"5px\"\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        fontSize: \"12px\"\n                      },\n                      children: \"Route Progress\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 296,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        fontSize: \"12px\",\n                        fontWeight: \"bold\"\n                      },\n                      children: [bus.progress || 0, \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 297,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 295,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      width: \"100%\",\n                      height: \"8px\",\n                      backgroundColor: \"#e9ecef\",\n                      borderRadius: \"4px\",\n                      overflow: \"hidden\"\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        width: `${bus.progress || 0}%`,\n                        height: \"100%\",\n                        backgroundColor: \"#28a745\",\n                        transition: \"width 0.3s ease\"\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 308,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 299,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 23\n                }, this), bus.status === \"stopped\" && bus.waitTime && /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    backgroundColor: \"#fff3cd\",\n                    padding: \"8px\",\n                    borderRadius: \"4px\",\n                    textAlign: \"center\",\n                    border: \"1px solid #ffeaa7\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"\\u23F0 Waiting:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 330,\n                    columnNumber: 27\n                  }, this), \" \", bus.waitTime, \" seconds\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 17\n          }, this), bus.route && bus.route.length > 1 && /*#__PURE__*/_jsxDEV(Polyline, {\n            positions: bus.route,\n            color: isSelected ? \"#ff0000\" : bus.color || \"blue\",\n            weight: isSelected ? 5 : 3,\n            opacity: isSelected ? 0.8 : 0.6\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 19\n          }, this)]\n        }, busId, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 15\n        }, this);\n      }) : /*#__PURE__*/_jsxDEV(Popup, {\n        position: defaultCenter,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: \"center\",\n            padding: \"10px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Waiting for bus data... \\uD83D\\uDE8C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: \"12px\",\n              color: \"#666\"\n            },\n            children: \"Check if backend server is running on port 3001\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"20px\",\n        padding: \"15px\",\n        background: \"white\",\n        borderRadius: \"12px\",\n        boxShadow: \"0 2px 8px rgba(0,0,0,0.1)\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        gap: \"30px\",\n        flexWrap: \"wrap\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: \"8px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/shuttle-bus.png\",\n          alt: \"Bus\",\n          style: {\n            width: \"20px\",\n            height: \"20px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Live Bus\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: \"8px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/bus-stop.png\",\n          alt: \"Bus Stop\",\n          style: {\n            width: \"20px\",\n            height: \"20px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Bus Stop\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: \"8px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: \"30px\",\n            height: \"3px\",\n            backgroundColor: \"blue\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Bus Route\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: \"8px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: \"30px\",\n            height: \"3px\",\n            backgroundColor: \"red\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Selected Bus\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 5\n  }, this);\n}\n_s(MapView, \"PU73qkWSieeLGD7Q7qHF90zwgbE=\");\n_c = MapView;\nvar _c;\n$RefreshReg$(_c, \"MapView\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","React","useEffect","useState","useRef","MapContainer","TileLayer","Marker","Polyline","Popup","L","socket","jsxDEV","_jsxDEV","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","createBusIcon","color","iconSize","iconAnchor","popupAnchor","createStopIcon","MapView","buses","setBuses","stops","setStops","connectionStatus","setConnectionStatus","selectedBus","setSelectedBus","mapRef","handleBusUpdate","data","allStops","Object","values","forEach","bus","Array","isArray","route","stopIndex","push","position","busName","name","id","busId","handleBusSelected","busDetails","console","log","current","currentPosition","setView","on","emit","error","off","defaultCenter","style","padding","maxWidth","margin","children","textAlign","marginBottom","fontSize","marginLeft","fileName","lineNumber","columnNumber","borderRadius","backgroundColor","border","borderColor","toUpperCase","keys","length","center","zoom","height","width","boxShadow","ref","url","attribution","map","stop","index","icon","minWidth","_bus$distance","isSelected","Fragment","lat","lon","eventHandlers","click","speed","status","passengers","capacity","borderBottom","paddingBottom","display","gridTemplateColumns","gap","distance","toFixed","borderLeft","distanceToNextStop","currentStopNumber","totalStops","justifyContent","fontWeight","progress","overflow","transition","waitTime","positions","weight","opacity","marginTop","background","flexWrap","alignItems","src","alt","_c","$RefreshReg$"],"sources":["D:/225 v2/frontend/src/components/MapView.js"],"sourcesContent":["\"use client\"\n\n// MapView.js - Enhanced version with bus selection handling\nimport React, { useEffect, useState, useRef } from \"react\"\nimport { MapContainer, TileLayer, Marker, Polyline, Popup } from \"react-leaflet\"\nimport L from \"leaflet\"\nimport socket from \"../socket\" // Using centralized socket configuration\nimport \"leaflet/dist/leaflet.css\"\n\n// Fix for default markers\ndelete L.Icon.Default.prototype._getIconUrl\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: \"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png\",\n  iconUrl: \"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png\",\n  shadowUrl: \"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png\",\n})\n\n// Custom bus icon\nconst createBusIcon = (color = \"blue\") => {\n  return new L.Icon({\n    iconUrl: \"/shuttle-bus.png\",\n    iconSize: [32, 32],\n    iconAnchor: [16, 16],\n    popupAnchor: [0, -16],\n  })\n}\n\n// Custom stop icon\nconst createStopIcon = () => {\n  return new L.Icon({\n    iconUrl: \"/bus-stop.png\",\n    iconSize: [28, 28],\n    iconAnchor: [14, 14],\n    popupAnchor: [0, -14],\n  })\n}\n\nexport default function MapView() {\n  const [buses, setBuses] = useState({})\n  const [stops, setStops] = useState([])\n  const [connectionStatus, setConnectionStatus] = useState(\"connecting\")\n  const [selectedBus, setSelectedBus] = useState(null)\n  const mapRef = useRef(null)\n\n  useEffect(() => {\n    const handleBusUpdate = (data) => {\n      setBuses(data)\n      setConnectionStatus(\"connected\")\n\n      // Process stops from server data\n      const allStops = []\n      Object.values(data).forEach((bus) => {\n        if (bus && bus.stops && Array.isArray(bus.stops) && bus.route && Array.isArray(bus.route)) {\n          bus.stops.forEach((stopIndex) => {\n            if (bus.route[stopIndex]) {\n              allStops.push({\n                position: bus.route[stopIndex],\n                busName: bus.name || `Bus ${bus.id}`,\n                busId: bus.id,\n                stopIndex: stopIndex,\n              })\n            }\n          })\n        }\n      })\n\n      setStops(allStops)\n    }\n\n    const handleBusSelected = (busDetails) => {\n      console.log(\"Bus selected from admin panel:\", busDetails)\n      setSelectedBus(busDetails)\n\n      // Center map on selected bus\n      if (mapRef.current && busDetails.currentPosition) {\n        mapRef.current.setView(busDetails.currentPosition, 15)\n      }\n    }\n\n    socket.on(\"connect\", () => {\n      console.log(\"✅ Connected to server\")\n      setConnectionStatus(\"connected\")\n      socket.emit(\"getBuses\")\n    })\n\n    socket.on(\"disconnect\", () => {\n      console.log(\"❌ Disconnected from server\")\n      setConnectionStatus(\"disconnected\")\n    })\n\n    socket.on(\"connect_error\", (error) => {\n      console.error(\"Connection error:\", error)\n      setConnectionStatus(\"error\")\n    })\n\n    socket.on(\"busUpdate\", handleBusUpdate)\n    socket.on(\"busSelected\", handleBusSelected)\n\n    return () => {\n      socket.off(\"busUpdate\", handleBusUpdate)\n      socket.off(\"busSelected\", handleBusSelected)\n    }\n  }, [])\n\n  const defaultCenter = [22.5726, 88.3639]\n\n  return (\n    <div style={{ padding: \"20px\", maxWidth: \"1200px\", margin: \"0 auto\" }}>\n      <h2 style={{ textAlign: \"center\", marginBottom: \"20px\", color: \"#2c3e50\" }}>\n        🚌 Bus-Karo Live Tracking\n        {selectedBus && (\n          <span style={{ fontSize: \"1rem\", color: \"#666\", marginLeft: \"15px\" }}>Selected: {selectedBus.name}</span>\n        )}\n      </h2>\n\n      {/* Connection Status */}\n      <div\n        style={{\n          padding: \"15px\",\n          marginBottom: \"20px\",\n          borderRadius: \"12px\",\n          textAlign: \"center\",\n          backgroundColor: connectionStatus === \"connected\" ? \"#d1fae5\" : \"#fee2e2\",\n          color: connectionStatus === \"connected\" ? \"#065f46\" : \"#b91c1c\",\n          border: \"1px solid\",\n          borderColor: connectionStatus === \"connected\" ? \"#a7f3d0\" : \"#fecaca\",\n        }}\n      >\n        <strong>Status:</strong> {connectionStatus.toUpperCase()} |<strong> Buses:</strong> {Object.keys(buses).length}{\" \"}\n        |<strong> Stops:</strong> {stops.length}\n        {selectedBus && ` | Selected: ${selectedBus.name}`}\n      </div>\n\n      <MapContainer\n        center={defaultCenter}\n        zoom={13}\n        style={{\n          height: \"500px\",\n          width: \"100%\",\n          borderRadius: \"12px\",\n          boxShadow: \"0 4px 12px rgba(0,0,0,0.2)\",\n        }}\n        ref={mapRef}\n      >\n        <TileLayer\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n        />\n\n        {/* Bus Stops */}\n        {stops.map((stop, index) => (\n          <Marker\n            key={`stop-${index}-${stop.busId}-${stop.stopIndex}`}\n            position={stop.position}\n            icon={createStopIcon()}\n          >\n            <Popup>\n              <div style={{ minWidth: \"150px\", textAlign: \"center\" }}>\n                <h4 style={{ margin: \"0 0 10px 0\", color: \"#dc2626\" }}>🚏 Bus Stop</h4>\n                <p>\n                  <strong>{stop.busName}</strong>\n                </p>\n                <p>Stop #{stop.stopIndex + 1}</p>\n              </div>\n            </Popup>\n          </Marker>\n        ))}\n\n        {/* Buses */}\n        {Object.keys(buses).length > 0 ? (\n          Object.keys(buses).map((busId) => {\n            const bus = buses[busId]\n\n            // Skip buses without route data\n            if (!bus.route || !Array.isArray(bus.route) || bus.route.length === 0) {\n              return null\n            }\n\n            const isSelected = selectedBus && selectedBus.id === bus.id\n\n            return (\n              <React.Fragment key={busId}>\n                <Marker\n                  position={[bus.lat, bus.lon]}\n                  icon={createBusIcon(bus.color)}\n                  eventHandlers={{\n                    click: () => {\n                      setSelectedBus({\n                        id: bus.id,\n                        name: bus.name,\n                        currentPosition: [bus.lat, bus.lon],\n                        speed: bus.speed,\n                        status: bus.status,\n                        passengers: bus.passengers,\n                        capacity: bus.capacity,\n                      })\n                    },\n                  }}\n                >\n                  <Popup>\n                    <div style={{ minWidth: \"220px\" }}>\n                      <h3\n                        style={{\n                          margin: \"0 0 10px 0\",\n                          color: \"#2c3e50\",\n                          borderBottom: \"2px solid #eee\",\n                          paddingBottom: \"5px\",\n                          backgroundColor: isSelected ? \"#fff3cd\" : \"transparent\",\n                          padding: isSelected ? \"10px\" : \"0\",\n                          borderRadius: isSelected ? \"5px\" : \"0\",\n                        }}\n                      >\n                        🚌 {bus.name}\n                        {isSelected && (\n                          <span style={{ color: \"#856404\", fontSize: \"12px\", marginLeft: \"10px\" }}>SELECTED</span>\n                        )}\n                      </h3>\n\n                      <div\n                        style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: \"8px\", marginBottom: \"10px\" }}\n                      >\n                        <div>\n                          <strong>Speed:</strong>\n                        </div>\n                        <div>{bus.speed || 0} km/h</div>\n\n                        <div>\n                          <strong>Status:</strong>\n                        </div>\n                        <div>\n                          <span\n                            style={{\n                              padding: \"2px 6px\",\n                              borderRadius: \"4px\",\n                              fontSize: \"12px\",\n                              backgroundColor:\n                                bus.status === \"moving\"\n                                  ? \"#d4edda\"\n                                  : bus.status === \"stopped\"\n                                    ? \"#f8d7da\"\n                                    : bus.status === \"decelerating\"\n                                      ? \"#fff3cd\"\n                                      : \"#e2e3e5\",\n                              color:\n                                bus.status === \"moving\"\n                                  ? \"#155724\"\n                                  : bus.status === \"stopped\"\n                                    ? \"#721c24\"\n                                    : bus.status === \"decelerating\"\n                                      ? \"#856404\"\n                                      : \"#383d41\",\n                            }}\n                          >\n                            {bus.status}\n                          </span>\n                        </div>\n\n                        <div>\n                          <strong>Distance:</strong>\n                        </div>\n                        <div>{bus.distance?.toFixed(2) || \"0\"} km</div>\n\n                        <div>\n                          <strong>Passengers:</strong>\n                        </div>\n                        <div>\n                          {bus.passengers}/{bus.capacity}\n                        </div>\n                      </div>\n\n                      {/* Next Stop Information */}\n                      <div\n                        style={{\n                          backgroundColor: \"#f8f9fa\",\n                          padding: \"10px\",\n                          borderRadius: \"5px\",\n                          marginBottom: \"10px\",\n                          borderLeft: \"4px solid #007bff\",\n                        }}\n                      >\n                        <h4 style={{ margin: \"0 0 8px 0\", fontSize: \"14px\", color: \"#495057\" }}>Next Stop</h4>\n                        <p style={{ margin: \"2px 0\", fontSize: \"13px\" }}>\n                          <strong>Distance:</strong>{\" \"}\n                          {bus.distanceToNextStop < 1000\n                            ? `${bus.distanceToNextStop} m`\n                            : `${(bus.distanceToNextStop / 1000).toFixed(2)} km`}\n                        </p>\n                        <p style={{ margin: \"2px 0\", fontSize: \"13px\" }}>\n                          <strong>Stop:</strong> {bus.currentStopNumber || 1}/{bus.totalStops || 1}\n                        </p>\n                      </div>\n\n                      {/* Progress Bar */}\n                      <div style={{ marginBottom: \"10px\" }}>\n                        <div style={{ display: \"flex\", justifyContent: \"space-between\", marginBottom: \"5px\" }}>\n                          <span style={{ fontSize: \"12px\" }}>Route Progress</span>\n                          <span style={{ fontSize: \"12px\", fontWeight: \"bold\" }}>{bus.progress || 0}%</span>\n                        </div>\n                        <div\n                          style={{\n                            width: \"100%\",\n                            height: \"8px\",\n                            backgroundColor: \"#e9ecef\",\n                            borderRadius: \"4px\",\n                            overflow: \"hidden\",\n                          }}\n                        >\n                          <div\n                            style={{\n                              width: `${bus.progress || 0}%`,\n                              height: \"100%\",\n                              backgroundColor: \"#28a745\",\n                              transition: \"width 0.3s ease\",\n                            }}\n                          ></div>\n                        </div>\n                      </div>\n\n                      {/* Wait Time if Stopped */}\n                      {bus.status === \"stopped\" && bus.waitTime && (\n                        <div\n                          style={{\n                            backgroundColor: \"#fff3cd\",\n                            padding: \"8px\",\n                            borderRadius: \"4px\",\n                            textAlign: \"center\",\n                            border: \"1px solid #ffeaa7\",\n                          }}\n                        >\n                          <strong>⏰ Waiting:</strong> {bus.waitTime} seconds\n                        </div>\n                      )}\n                    </div>\n                  </Popup>\n                </Marker>\n\n                {/* Bus Route */}\n                {bus.route && bus.route.length > 1 && (\n                  <Polyline\n                    positions={bus.route}\n                    color={isSelected ? \"#ff0000\" : bus.color || \"blue\"}\n                    weight={isSelected ? 5 : 3}\n                    opacity={isSelected ? 0.8 : 0.6}\n                  />\n                )}\n              </React.Fragment>\n            )\n          })\n        ) : (\n          <Popup position={defaultCenter}>\n            <div style={{ textAlign: \"center\", padding: \"10px\" }}>\n              <p>Waiting for bus data... 🚌</p>\n              <p style={{ fontSize: \"12px\", color: \"#666\" }}>Check if backend server is running on port 3001</p>\n            </div>\n          </Popup>\n        )}\n      </MapContainer>\n\n      {/* Legend */}\n      <div\n        style={{\n          marginTop: \"20px\",\n          padding: \"15px\",\n          background: \"white\",\n          borderRadius: \"12px\",\n          boxShadow: \"0 2px 8px rgba(0,0,0,0.1)\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          gap: \"30px\",\n          flexWrap: \"wrap\",\n        }}\n      >\n        <div style={{ display: \"flex\", alignItems: \"center\", gap: \"8px\" }}>\n          <img src=\"/shuttle-bus.png\" alt=\"Bus\" style={{ width: \"20px\", height: \"20px\" }} />\n          <span>Live Bus</span>\n        </div>\n        <div style={{ display: \"flex\", alignItems: \"center\", gap: \"8px\" }}>\n          <img src=\"/bus-stop.png\" alt=\"Bus Stop\" style={{ width: \"20px\", height: \"20px\" }} />\n          <span>Bus Stop</span>\n        </div>\n        <div style={{ display: \"flex\", alignItems: \"center\", gap: \"8px\" }}>\n          <div style={{ width: \"30px\", height: \"3px\", backgroundColor: \"blue\" }}></div>\n          <span>Bus Route</span>\n        </div>\n        <div style={{ display: \"flex\", alignItems: \"center\", gap: \"8px\" }}>\n          <div style={{ width: \"30px\", height: \"3px\", backgroundColor: \"red\" }}></div>\n          <span>Selected Bus</span>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"mappings":"AAAA,YAAY;;AAEZ;AAAA,IAAAA,YAAA;EAAAC,EAAA,GAAAC,YAAA;AACA,OAAOC,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AAC1D,SAASC,YAAY,EAAEC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,KAAK,QAAQ,eAAe;AAChF,OAAOC,CAAC,MAAM,SAAS;AACvB,OAAOC,MAAM,MAAM,WAAW,EAAC;AAC/B,OAAO,0BAA0B;;AAEjC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,OAAOH,CAAC,CAACI,IAAI,CAACC,OAAO,CAACC,SAAS,CAACC,WAAW;AAC3CP,CAAC,CAACI,IAAI,CAACC,OAAO,CAACG,YAAY,CAAC;EAC1BC,aAAa,EAAE,gEAAgE;EAC/EC,OAAO,EAAE,6DAA6D;EACtEC,SAAS,EAAE;AACb,CAAC,CAAC;;AAEF;AACA,MAAMC,aAAa,GAAGA,CAACC,KAAK,GAAG,MAAM,KAAK;EACxC,OAAO,IAAIb,CAAC,CAACI,IAAI,CAAC;IAChBM,OAAO,EAAE,kBAAkB;IAC3BI,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;IAClBC,UAAU,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;IACpBC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE;EACtB,CAAC,CAAC;AACJ,CAAC;;AAED;AACA,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAC3B,OAAO,IAAIjB,CAAC,CAACI,IAAI,CAAC;IAChBM,OAAO,EAAE,eAAe;IACxBI,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;IAClBC,UAAU,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;IACpBC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE;EACtB,CAAC,CAAC;AACJ,CAAC;AAED,eAAe,SAASE,OAAOA,CAAA,EAAG;EAAA7B,EAAA;EAChC,MAAM,CAAC8B,KAAK,EAAEC,QAAQ,CAAC,GAAG3B,QAAQ,CAAC,CAAC,CAAC,CAAC;EACtC,MAAM,CAAC4B,KAAK,EAAEC,QAAQ,CAAC,GAAG7B,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAAC8B,gBAAgB,EAAEC,mBAAmB,CAAC,GAAG/B,QAAQ,CAAC,YAAY,CAAC;EACtE,MAAM,CAACgC,WAAW,EAAEC,cAAc,CAAC,GAAGjC,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAMkC,MAAM,GAAGjC,MAAM,CAAC,IAAI,CAAC;EAE3BF,SAAS,CAAC,MAAM;IACd,MAAMoC,eAAe,GAAIC,IAAI,IAAK;MAChCT,QAAQ,CAACS,IAAI,CAAC;MACdL,mBAAmB,CAAC,WAAW,CAAC;;MAEhC;MACA,MAAMM,QAAQ,GAAG,EAAE;MACnBC,MAAM,CAACC,MAAM,CAACH,IAAI,CAAC,CAACI,OAAO,CAAEC,GAAG,IAAK;QACnC,IAAIA,GAAG,IAAIA,GAAG,CAACb,KAAK,IAAIc,KAAK,CAACC,OAAO,CAACF,GAAG,CAACb,KAAK,CAAC,IAAIa,GAAG,CAACG,KAAK,IAAIF,KAAK,CAACC,OAAO,CAACF,GAAG,CAACG,KAAK,CAAC,EAAE;UACzFH,GAAG,CAACb,KAAK,CAACY,OAAO,CAAEK,SAAS,IAAK;YAC/B,IAAIJ,GAAG,CAACG,KAAK,CAACC,SAAS,CAAC,EAAE;cACxBR,QAAQ,CAACS,IAAI,CAAC;gBACZC,QAAQ,EAAEN,GAAG,CAACG,KAAK,CAACC,SAAS,CAAC;gBAC9BG,OAAO,EAAEP,GAAG,CAACQ,IAAI,IAAI,OAAOR,GAAG,CAACS,EAAE,EAAE;gBACpCC,KAAK,EAAEV,GAAG,CAACS,EAAE;gBACbL,SAAS,EAAEA;cACb,CAAC,CAAC;YACJ;UACF,CAAC,CAAC;QACJ;MACF,CAAC,CAAC;MAEFhB,QAAQ,CAACQ,QAAQ,CAAC;IACpB,CAAC;IAED,MAAMe,iBAAiB,GAAIC,UAAU,IAAK;MACxCC,OAAO,CAACC,GAAG,CAAC,gCAAgC,EAAEF,UAAU,CAAC;MACzDpB,cAAc,CAACoB,UAAU,CAAC;;MAE1B;MACA,IAAInB,MAAM,CAACsB,OAAO,IAAIH,UAAU,CAACI,eAAe,EAAE;QAChDvB,MAAM,CAACsB,OAAO,CAACE,OAAO,CAACL,UAAU,CAACI,eAAe,EAAE,EAAE,CAAC;MACxD;IACF,CAAC;IAEDjD,MAAM,CAACmD,EAAE,CAAC,SAAS,EAAE,MAAM;MACzBL,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;MACpCxB,mBAAmB,CAAC,WAAW,CAAC;MAChCvB,MAAM,CAACoD,IAAI,CAAC,UAAU,CAAC;IACzB,CAAC,CAAC;IAEFpD,MAAM,CAACmD,EAAE,CAAC,YAAY,EAAE,MAAM;MAC5BL,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAC;MACzCxB,mBAAmB,CAAC,cAAc,CAAC;IACrC,CAAC,CAAC;IAEFvB,MAAM,CAACmD,EAAE,CAAC,eAAe,EAAGE,KAAK,IAAK;MACpCP,OAAO,CAACO,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;MACzC9B,mBAAmB,CAAC,OAAO,CAAC;IAC9B,CAAC,CAAC;IAEFvB,MAAM,CAACmD,EAAE,CAAC,WAAW,EAAExB,eAAe,CAAC;IACvC3B,MAAM,CAACmD,EAAE,CAAC,aAAa,EAAEP,iBAAiB,CAAC;IAE3C,OAAO,MAAM;MACX5C,MAAM,CAACsD,GAAG,CAAC,WAAW,EAAE3B,eAAe,CAAC;MACxC3B,MAAM,CAACsD,GAAG,CAAC,aAAa,EAAEV,iBAAiB,CAAC;IAC9C,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMW,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO,CAAC;EAExC,oBACErD,OAAA;IAAKsD,KAAK,EAAE;MAAEC,OAAO,EAAE,MAAM;MAAEC,QAAQ,EAAE,QAAQ;MAAEC,MAAM,EAAE;IAAS,CAAE;IAAAC,QAAA,gBACpE1D,OAAA;MAAIsD,KAAK,EAAE;QAAEK,SAAS,EAAE,QAAQ;QAAEC,YAAY,EAAE,MAAM;QAAElD,KAAK,EAAE;MAAU,CAAE;MAAAgD,QAAA,GAAC,qCAE1E,EAACpC,WAAW,iBACVtB,OAAA;QAAMsD,KAAK,EAAE;UAAEO,QAAQ,EAAE,MAAM;UAAEnD,KAAK,EAAE,MAAM;UAAEoD,UAAU,EAAE;QAAO,CAAE;QAAAJ,QAAA,GAAC,YAAU,EAACpC,WAAW,CAACiB,IAAI;MAAA;QAAAwB,QAAA,EAAA9E,YAAA;QAAA+E,UAAA;QAAAC,YAAA;MAAA,OAAO,CACzG;IAAA;MAAAF,QAAA,EAAA9E,YAAA;MAAA+E,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAGLjE,OAAA;MACEsD,KAAK,EAAE;QACLC,OAAO,EAAE,MAAM;QACfK,YAAY,EAAE,MAAM;QACpBM,YAAY,EAAE,MAAM;QACpBP,SAAS,EAAE,QAAQ;QACnBQ,eAAe,EAAE/C,gBAAgB,KAAK,WAAW,GAAG,SAAS,GAAG,SAAS;QACzEV,KAAK,EAAEU,gBAAgB,KAAK,WAAW,GAAG,SAAS,GAAG,SAAS;QAC/DgD,MAAM,EAAE,WAAW;QACnBC,WAAW,EAAEjD,gBAAgB,KAAK,WAAW,GAAG,SAAS,GAAG;MAC9D,CAAE;MAAAsC,QAAA,gBAEF1D,OAAA;QAAA0D,QAAA,EAAQ;MAAO;QAAAK,QAAA,EAAA9E,YAAA;QAAA+E,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,KAAC,EAAC7C,gBAAgB,CAACkD,WAAW,CAAC,CAAC,EAAC,IAAE,eAAAtE,OAAA;QAAA0D,QAAA,EAAQ;MAAO;QAAAK,QAAA,EAAA9E,YAAA;QAAA+E,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,KAAC,EAACrC,MAAM,CAAC2C,IAAI,CAACvD,KAAK,CAAC,CAACwD,MAAM,EAAE,GAAG,EAAC,GACnH,eAAAxE,OAAA;QAAA0D,QAAA,EAAQ;MAAO;QAAAK,QAAA,EAAA9E,YAAA;QAAA+E,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,KAAC,EAAC/C,KAAK,CAACsD,MAAM,EACtClD,WAAW,IAAI,gBAAgBA,WAAW,CAACiB,IAAI,EAAE;IAAA;MAAAwB,QAAA,EAAA9E,YAAA;MAAA+E,UAAA;MAAAC,YAAA;IAAA,OAC/C,CAAC,eAENjE,OAAA,CAACR,YAAY;MACXiF,MAAM,EAAEpB,aAAc;MACtBqB,IAAI,EAAE,EAAG;MACTpB,KAAK,EAAE;QACLqB,MAAM,EAAE,OAAO;QACfC,KAAK,EAAE,MAAM;QACbV,YAAY,EAAE,MAAM;QACpBW,SAAS,EAAE;MACb,CAAE;MACFC,GAAG,EAAEtD,MAAO;MAAAkC,QAAA,gBAEZ1D,OAAA,CAACP,SAAS;QACRsF,GAAG,EAAC,oDAAoD;QACxDC,WAAW,EAAC;MAAyF;QAAAjB,QAAA,EAAA9E,YAAA;QAAA+E,UAAA;QAAAC,YAAA;MAAA,OACtG,CAAC,EAGD/C,KAAK,CAAC+D,GAAG,CAAC,CAACC,IAAI,EAAEC,KAAK,kBACrBnF,OAAA,CAACN,MAAM;QAEL2C,QAAQ,EAAE6C,IAAI,CAAC7C,QAAS;QACxB+C,IAAI,EAAEtE,cAAc,CAAC,CAAE;QAAA4C,QAAA,eAEvB1D,OAAA,CAACJ,KAAK;UAAA8D,QAAA,eACJ1D,OAAA;YAAKsD,KAAK,EAAE;cAAE+B,QAAQ,EAAE,OAAO;cAAE1B,SAAS,EAAE;YAAS,CAAE;YAAAD,QAAA,gBACrD1D,OAAA;cAAIsD,KAAK,EAAE;gBAAEG,MAAM,EAAE,YAAY;gBAAE/C,KAAK,EAAE;cAAU,CAAE;cAAAgD,QAAA,EAAC;YAAW;cAAAK,QAAA,EAAA9E,YAAA;cAAA+E,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACvEjE,OAAA;cAAA0D,QAAA,eACE1D,OAAA;gBAAA0D,QAAA,EAASwB,IAAI,CAAC5C;cAAO;gBAAAyB,QAAA,EAAA9E,YAAA;gBAAA+E,UAAA;gBAAAC,YAAA;cAAA,OAAS;YAAC;cAAAF,QAAA,EAAA9E,YAAA;cAAA+E,UAAA;cAAAC,YAAA;YAAA,OAC9B,CAAC,eACJjE,OAAA;cAAA0D,QAAA,GAAG,QAAM,EAACwB,IAAI,CAAC/C,SAAS,GAAG,CAAC;YAAA;cAAA4B,QAAA,EAAA9E,YAAA;cAAA+E,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAF,QAAA,EAAA9E,YAAA;YAAA+E,UAAA;YAAAC,YAAA;UAAA,OAC9B;QAAC;UAAAF,QAAA,EAAA9E,YAAA;UAAA+E,UAAA;UAAAC,YAAA;QAAA,OACD;MAAC,GAZH,QAAQkB,KAAK,IAAID,IAAI,CAACzC,KAAK,IAAIyC,IAAI,CAAC/C,SAAS,EAAE;QAAA4B,QAAA,EAAA9E,YAAA;QAAA+E,UAAA;QAAAC,YAAA;MAAA,OAa9C,CACT,CAAC,EAGDrC,MAAM,CAAC2C,IAAI,CAACvD,KAAK,CAAC,CAACwD,MAAM,GAAG,CAAC,GAC5B5C,MAAM,CAAC2C,IAAI,CAACvD,KAAK,CAAC,CAACiE,GAAG,CAAExC,KAAK,IAAK;QAAA,IAAA6C,aAAA;QAChC,MAAMvD,GAAG,GAAGf,KAAK,CAACyB,KAAK,CAAC;;QAExB;QACA,IAAI,CAACV,GAAG,CAACG,KAAK,IAAI,CAACF,KAAK,CAACC,OAAO,CAACF,GAAG,CAACG,KAAK,CAAC,IAAIH,GAAG,CAACG,KAAK,CAACsC,MAAM,KAAK,CAAC,EAAE;UACrE,OAAO,IAAI;QACb;QAEA,MAAMe,UAAU,GAAGjE,WAAW,IAAIA,WAAW,CAACkB,EAAE,KAAKT,GAAG,CAACS,EAAE;QAE3D,oBACExC,OAAA,CAACZ,KAAK,CAACoG,QAAQ;UAAA9B,QAAA,gBACb1D,OAAA,CAACN,MAAM;YACL2C,QAAQ,EAAE,CAACN,GAAG,CAAC0D,GAAG,EAAE1D,GAAG,CAAC2D,GAAG,CAAE;YAC7BN,IAAI,EAAE3E,aAAa,CAACsB,GAAG,CAACrB,KAAK,CAAE;YAC/BiF,aAAa,EAAE;cACbC,KAAK,EAAEA,CAAA,KAAM;gBACXrE,cAAc,CAAC;kBACbiB,EAAE,EAAET,GAAG,CAACS,EAAE;kBACVD,IAAI,EAAER,GAAG,CAACQ,IAAI;kBACdQ,eAAe,EAAE,CAAChB,GAAG,CAAC0D,GAAG,EAAE1D,GAAG,CAAC2D,GAAG,CAAC;kBACnCG,KAAK,EAAE9D,GAAG,CAAC8D,KAAK;kBAChBC,MAAM,EAAE/D,GAAG,CAAC+D,MAAM;kBAClBC,UAAU,EAAEhE,GAAG,CAACgE,UAAU;kBAC1BC,QAAQ,EAAEjE,GAAG,CAACiE;gBAChB,CAAC,CAAC;cACJ;YACF,CAAE;YAAAtC,QAAA,eAEF1D,OAAA,CAACJ,KAAK;cAAA8D,QAAA,eACJ1D,OAAA;gBAAKsD,KAAK,EAAE;kBAAE+B,QAAQ,EAAE;gBAAQ,CAAE;gBAAA3B,QAAA,gBAChC1D,OAAA;kBACEsD,KAAK,EAAE;oBACLG,MAAM,EAAE,YAAY;oBACpB/C,KAAK,EAAE,SAAS;oBAChBuF,YAAY,EAAE,gBAAgB;oBAC9BC,aAAa,EAAE,KAAK;oBACpB/B,eAAe,EAAEoB,UAAU,GAAG,SAAS,GAAG,aAAa;oBACvDhC,OAAO,EAAEgC,UAAU,GAAG,MAAM,GAAG,GAAG;oBAClCrB,YAAY,EAAEqB,UAAU,GAAG,KAAK,GAAG;kBACrC,CAAE;kBAAA7B,QAAA,GACH,eACI,EAAC3B,GAAG,CAACQ,IAAI,EACXgD,UAAU,iBACTvF,OAAA;oBAAMsD,KAAK,EAAE;sBAAE5C,KAAK,EAAE,SAAS;sBAAEmD,QAAQ,EAAE,MAAM;sBAAEC,UAAU,EAAE;oBAAO,CAAE;oBAAAJ,QAAA,EAAC;kBAAQ;oBAAAK,QAAA,EAAA9E,YAAA;oBAAA+E,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CACxF;gBAAA;kBAAAF,QAAA,EAAA9E,YAAA;kBAAA+E,UAAA;kBAAAC,YAAA;gBAAA,OACC,CAAC,eAELjE,OAAA;kBACEsD,KAAK,EAAE;oBAAE6C,OAAO,EAAE,MAAM;oBAAEC,mBAAmB,EAAE,SAAS;oBAAEC,GAAG,EAAE,KAAK;oBAAEzC,YAAY,EAAE;kBAAO,CAAE;kBAAAF,QAAA,gBAE7F1D,OAAA;oBAAA0D,QAAA,eACE1D,OAAA;sBAAA0D,QAAA,EAAQ;oBAAM;sBAAAK,QAAA,EAAA9E,YAAA;sBAAA+E,UAAA;sBAAAC,YAAA;oBAAA,OAAQ;kBAAC;oBAAAF,QAAA,EAAA9E,YAAA;oBAAA+E,UAAA;oBAAAC,YAAA;kBAAA,OACpB,CAAC,eACNjE,OAAA;oBAAA0D,QAAA,GAAM3B,GAAG,CAAC8D,KAAK,IAAI,CAAC,EAAC,OAAK;kBAAA;oBAAA9B,QAAA,EAAA9E,YAAA;oBAAA+E,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eAEhCjE,OAAA;oBAAA0D,QAAA,eACE1D,OAAA;sBAAA0D,QAAA,EAAQ;oBAAO;sBAAAK,QAAA,EAAA9E,YAAA;sBAAA+E,UAAA;sBAAAC,YAAA;oBAAA,OAAQ;kBAAC;oBAAAF,QAAA,EAAA9E,YAAA;oBAAA+E,UAAA;oBAAAC,YAAA;kBAAA,OACrB,CAAC,eACNjE,OAAA;oBAAA0D,QAAA,eACE1D,OAAA;sBACEsD,KAAK,EAAE;wBACLC,OAAO,EAAE,SAAS;wBAClBW,YAAY,EAAE,KAAK;wBACnBL,QAAQ,EAAE,MAAM;wBAChBM,eAAe,EACbpC,GAAG,CAAC+D,MAAM,KAAK,QAAQ,GACnB,SAAS,GACT/D,GAAG,CAAC+D,MAAM,KAAK,SAAS,GACtB,SAAS,GACT/D,GAAG,CAAC+D,MAAM,KAAK,cAAc,GAC3B,SAAS,GACT,SAAS;wBACnBpF,KAAK,EACHqB,GAAG,CAAC+D,MAAM,KAAK,QAAQ,GACnB,SAAS,GACT/D,GAAG,CAAC+D,MAAM,KAAK,SAAS,GACtB,SAAS,GACT/D,GAAG,CAAC+D,MAAM,KAAK,cAAc,GAC3B,SAAS,GACT;sBACZ,CAAE;sBAAApC,QAAA,EAED3B,GAAG,CAAC+D;oBAAM;sBAAA/B,QAAA,EAAA9E,YAAA;sBAAA+E,UAAA;sBAAAC,YAAA;oBAAA,OACP;kBAAC;oBAAAF,QAAA,EAAA9E,YAAA;oBAAA+E,UAAA;oBAAAC,YAAA;kBAAA,OACJ,CAAC,eAENjE,OAAA;oBAAA0D,QAAA,eACE1D,OAAA;sBAAA0D,QAAA,EAAQ;oBAAS;sBAAAK,QAAA,EAAA9E,YAAA;sBAAA+E,UAAA;sBAAAC,YAAA;oBAAA,OAAQ;kBAAC;oBAAAF,QAAA,EAAA9E,YAAA;oBAAA+E,UAAA;oBAAAC,YAAA;kBAAA,OACvB,CAAC,eACNjE,OAAA;oBAAA0D,QAAA,GAAM,EAAA4B,aAAA,GAAAvD,GAAG,CAACuE,QAAQ,cAAAhB,aAAA,uBAAZA,aAAA,CAAciB,OAAO,CAAC,CAAC,CAAC,KAAI,GAAG,EAAC,KAAG;kBAAA;oBAAAxC,QAAA,EAAA9E,YAAA;oBAAA+E,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eAE/CjE,OAAA;oBAAA0D,QAAA,eACE1D,OAAA;sBAAA0D,QAAA,EAAQ;oBAAW;sBAAAK,QAAA,EAAA9E,YAAA;sBAAA+E,UAAA;sBAAAC,YAAA;oBAAA,OAAQ;kBAAC;oBAAAF,QAAA,EAAA9E,YAAA;oBAAA+E,UAAA;oBAAAC,YAAA;kBAAA,OACzB,CAAC,eACNjE,OAAA;oBAAA0D,QAAA,GACG3B,GAAG,CAACgE,UAAU,EAAC,GAAC,EAAChE,GAAG,CAACiE,QAAQ;kBAAA;oBAAAjC,QAAA,EAAA9E,YAAA;oBAAA+E,UAAA;oBAAAC,YAAA;kBAAA,OAC3B,CAAC;gBAAA;kBAAAF,QAAA,EAAA9E,YAAA;kBAAA+E,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC,eAGNjE,OAAA;kBACEsD,KAAK,EAAE;oBACLa,eAAe,EAAE,SAAS;oBAC1BZ,OAAO,EAAE,MAAM;oBACfW,YAAY,EAAE,KAAK;oBACnBN,YAAY,EAAE,MAAM;oBACpB4C,UAAU,EAAE;kBACd,CAAE;kBAAA9C,QAAA,gBAEF1D,OAAA;oBAAIsD,KAAK,EAAE;sBAAEG,MAAM,EAAE,WAAW;sBAAEI,QAAQ,EAAE,MAAM;sBAAEnD,KAAK,EAAE;oBAAU,CAAE;oBAAAgD,QAAA,EAAC;kBAAS;oBAAAK,QAAA,EAAA9E,YAAA;oBAAA+E,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eACtFjE,OAAA;oBAAGsD,KAAK,EAAE;sBAAEG,MAAM,EAAE,OAAO;sBAAEI,QAAQ,EAAE;oBAAO,CAAE;oBAAAH,QAAA,gBAC9C1D,OAAA;sBAAA0D,QAAA,EAAQ;oBAAS;sBAAAK,QAAA,EAAA9E,YAAA;sBAAA+E,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC,EAAC,GAAG,EAC7BlC,GAAG,CAAC0E,kBAAkB,GAAG,IAAI,GAC1B,GAAG1E,GAAG,CAAC0E,kBAAkB,IAAI,GAC7B,GAAG,CAAC1E,GAAG,CAAC0E,kBAAkB,GAAG,IAAI,EAAEF,OAAO,CAAC,CAAC,CAAC,KAAK;kBAAA;oBAAAxC,QAAA,EAAA9E,YAAA;oBAAA+E,UAAA;oBAAAC,YAAA;kBAAA,OACrD,CAAC,eACJjE,OAAA;oBAAGsD,KAAK,EAAE;sBAAEG,MAAM,EAAE,OAAO;sBAAEI,QAAQ,EAAE;oBAAO,CAAE;oBAAAH,QAAA,gBAC9C1D,OAAA;sBAAA0D,QAAA,EAAQ;oBAAK;sBAAAK,QAAA,EAAA9E,YAAA;sBAAA+E,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC,KAAC,EAAClC,GAAG,CAAC2E,iBAAiB,IAAI,CAAC,EAAC,GAAC,EAAC3E,GAAG,CAAC4E,UAAU,IAAI,CAAC;kBAAA;oBAAA5C,QAAA,EAAA9E,YAAA;oBAAA+E,UAAA;oBAAAC,YAAA;kBAAA,OACvE,CAAC;gBAAA;kBAAAF,QAAA,EAAA9E,YAAA;kBAAA+E,UAAA;kBAAAC,YAAA;gBAAA,OACD,CAAC,eAGNjE,OAAA;kBAAKsD,KAAK,EAAE;oBAAEM,YAAY,EAAE;kBAAO,CAAE;kBAAAF,QAAA,gBACnC1D,OAAA;oBAAKsD,KAAK,EAAE;sBAAE6C,OAAO,EAAE,MAAM;sBAAES,cAAc,EAAE,eAAe;sBAAEhD,YAAY,EAAE;oBAAM,CAAE;oBAAAF,QAAA,gBACpF1D,OAAA;sBAAMsD,KAAK,EAAE;wBAAEO,QAAQ,EAAE;sBAAO,CAAE;sBAAAH,QAAA,EAAC;oBAAc;sBAAAK,QAAA,EAAA9E,YAAA;sBAAA+E,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC,eACxDjE,OAAA;sBAAMsD,KAAK,EAAE;wBAAEO,QAAQ,EAAE,MAAM;wBAAEgD,UAAU,EAAE;sBAAO,CAAE;sBAAAnD,QAAA,GAAE3B,GAAG,CAAC+E,QAAQ,IAAI,CAAC,EAAC,GAAC;oBAAA;sBAAA/C,QAAA,EAAA9E,YAAA;sBAAA+E,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC;kBAAA;oBAAAF,QAAA,EAAA9E,YAAA;oBAAA+E,UAAA;oBAAAC,YAAA;kBAAA,OAC/E,CAAC,eACNjE,OAAA;oBACEsD,KAAK,EAAE;sBACLsB,KAAK,EAAE,MAAM;sBACbD,MAAM,EAAE,KAAK;sBACbR,eAAe,EAAE,SAAS;sBAC1BD,YAAY,EAAE,KAAK;sBACnB6C,QAAQ,EAAE;oBACZ,CAAE;oBAAArD,QAAA,eAEF1D,OAAA;sBACEsD,KAAK,EAAE;wBACLsB,KAAK,EAAE,GAAG7C,GAAG,CAAC+E,QAAQ,IAAI,CAAC,GAAG;wBAC9BnC,MAAM,EAAE,MAAM;wBACdR,eAAe,EAAE,SAAS;wBAC1B6C,UAAU,EAAE;sBACd;oBAAE;sBAAAjD,QAAA,EAAA9E,YAAA;sBAAA+E,UAAA;sBAAAC,YAAA;oBAAA,OACE;kBAAC;oBAAAF,QAAA,EAAA9E,YAAA;oBAAA+E,UAAA;oBAAAC,YAAA;kBAAA,OACJ,CAAC;gBAAA;kBAAAF,QAAA,EAAA9E,YAAA;kBAAA+E,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC,EAGLlC,GAAG,CAAC+D,MAAM,KAAK,SAAS,IAAI/D,GAAG,CAACkF,QAAQ,iBACvCjH,OAAA;kBACEsD,KAAK,EAAE;oBACLa,eAAe,EAAE,SAAS;oBAC1BZ,OAAO,EAAE,KAAK;oBACdW,YAAY,EAAE,KAAK;oBACnBP,SAAS,EAAE,QAAQ;oBACnBS,MAAM,EAAE;kBACV,CAAE;kBAAAV,QAAA,gBAEF1D,OAAA;oBAAA0D,QAAA,EAAQ;kBAAU;oBAAAK,QAAA,EAAA9E,YAAA;oBAAA+E,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,KAAC,EAAClC,GAAG,CAACkF,QAAQ,EAAC,UAC5C;gBAAA;kBAAAlD,QAAA,EAAA9E,YAAA;kBAAA+E,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CACN;cAAA;gBAAAF,QAAA,EAAA9E,YAAA;gBAAA+E,UAAA;gBAAAC,YAAA;cAAA,OACE;YAAC;cAAAF,QAAA,EAAA9E,YAAA;cAAA+E,UAAA;cAAAC,YAAA;YAAA,OACD;UAAC;YAAAF,QAAA,EAAA9E,YAAA;YAAA+E,UAAA;YAAAC,YAAA;UAAA,OACF,CAAC,EAGRlC,GAAG,CAACG,KAAK,IAAIH,GAAG,CAACG,KAAK,CAACsC,MAAM,GAAG,CAAC,iBAChCxE,OAAA,CAACL,QAAQ;YACPuH,SAAS,EAAEnF,GAAG,CAACG,KAAM;YACrBxB,KAAK,EAAE6E,UAAU,GAAG,SAAS,GAAGxD,GAAG,CAACrB,KAAK,IAAI,MAAO;YACpDyG,MAAM,EAAE5B,UAAU,GAAG,CAAC,GAAG,CAAE;YAC3B6B,OAAO,EAAE7B,UAAU,GAAG,GAAG,GAAG;UAAI;YAAAxB,QAAA,EAAA9E,YAAA;YAAA+E,UAAA;YAAAC,YAAA;UAAA,OACjC,CACF;QAAA,GAnKkBxB,KAAK;UAAAsB,QAAA,EAAA9E,YAAA;UAAA+E,UAAA;UAAAC,YAAA;QAAA,OAoKV,CAAC;MAErB,CAAC,CAAC,gBAEFjE,OAAA,CAACJ,KAAK;QAACyC,QAAQ,EAAEgB,aAAc;QAAAK,QAAA,eAC7B1D,OAAA;UAAKsD,KAAK,EAAE;YAAEK,SAAS,EAAE,QAAQ;YAAEJ,OAAO,EAAE;UAAO,CAAE;UAAAG,QAAA,gBACnD1D,OAAA;YAAA0D,QAAA,EAAG;UAA0B;YAAAK,QAAA,EAAA9E,YAAA;YAAA+E,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACjCjE,OAAA;YAAGsD,KAAK,EAAE;cAAEO,QAAQ,EAAE,MAAM;cAAEnD,KAAK,EAAE;YAAO,CAAE;YAAAgD,QAAA,EAAC;UAA+C;YAAAK,QAAA,EAAA9E,YAAA;YAAA+E,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAF,QAAA,EAAA9E,YAAA;UAAA+E,UAAA;UAAAC,YAAA;QAAA,OAC/F;MAAC;QAAAF,QAAA,EAAA9E,YAAA;QAAA+E,UAAA;QAAAC,YAAA;MAAA,OACD,CACR;IAAA;MAAAF,QAAA,EAAA9E,YAAA;MAAA+E,UAAA;MAAAC,YAAA;IAAA,OACW,CAAC,eAGfjE,OAAA;MACEsD,KAAK,EAAE;QACL+D,SAAS,EAAE,MAAM;QACjB9D,OAAO,EAAE,MAAM;QACf+D,UAAU,EAAE,OAAO;QACnBpD,YAAY,EAAE,MAAM;QACpBW,SAAS,EAAE,2BAA2B;QACtCsB,OAAO,EAAE,MAAM;QACfS,cAAc,EAAE,QAAQ;QACxBP,GAAG,EAAE,MAAM;QACXkB,QAAQ,EAAE;MACZ,CAAE;MAAA7D,QAAA,gBAEF1D,OAAA;QAAKsD,KAAK,EAAE;UAAE6C,OAAO,EAAE,MAAM;UAAEqB,UAAU,EAAE,QAAQ;UAAEnB,GAAG,EAAE;QAAM,CAAE;QAAA3C,QAAA,gBAChE1D,OAAA;UAAKyH,GAAG,EAAC,kBAAkB;UAACC,GAAG,EAAC,KAAK;UAACpE,KAAK,EAAE;YAAEsB,KAAK,EAAE,MAAM;YAAED,MAAM,EAAE;UAAO;QAAE;UAAAZ,QAAA,EAAA9E,YAAA;UAAA+E,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAClFjE,OAAA;UAAA0D,QAAA,EAAM;QAAQ;UAAAK,QAAA,EAAA9E,YAAA;UAAA+E,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAF,QAAA,EAAA9E,YAAA;QAAA+E,UAAA;QAAAC,YAAA;MAAA,OAClB,CAAC,eACNjE,OAAA;QAAKsD,KAAK,EAAE;UAAE6C,OAAO,EAAE,MAAM;UAAEqB,UAAU,EAAE,QAAQ;UAAEnB,GAAG,EAAE;QAAM,CAAE;QAAA3C,QAAA,gBAChE1D,OAAA;UAAKyH,GAAG,EAAC,eAAe;UAACC,GAAG,EAAC,UAAU;UAACpE,KAAK,EAAE;YAAEsB,KAAK,EAAE,MAAM;YAAED,MAAM,EAAE;UAAO;QAAE;UAAAZ,QAAA,EAAA9E,YAAA;UAAA+E,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACpFjE,OAAA;UAAA0D,QAAA,EAAM;QAAQ;UAAAK,QAAA,EAAA9E,YAAA;UAAA+E,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAF,QAAA,EAAA9E,YAAA;QAAA+E,UAAA;QAAAC,YAAA;MAAA,OAClB,CAAC,eACNjE,OAAA;QAAKsD,KAAK,EAAE;UAAE6C,OAAO,EAAE,MAAM;UAAEqB,UAAU,EAAE,QAAQ;UAAEnB,GAAG,EAAE;QAAM,CAAE;QAAA3C,QAAA,gBAChE1D,OAAA;UAAKsD,KAAK,EAAE;YAAEsB,KAAK,EAAE,MAAM;YAAED,MAAM,EAAE,KAAK;YAAER,eAAe,EAAE;UAAO;QAAE;UAAAJ,QAAA,EAAA9E,YAAA;UAAA+E,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAC7EjE,OAAA;UAAA0D,QAAA,EAAM;QAAS;UAAAK,QAAA,EAAA9E,YAAA;UAAA+E,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAF,QAAA,EAAA9E,YAAA;QAAA+E,UAAA;QAAAC,YAAA;MAAA,OACnB,CAAC,eACNjE,OAAA;QAAKsD,KAAK,EAAE;UAAE6C,OAAO,EAAE,MAAM;UAAEqB,UAAU,EAAE,QAAQ;UAAEnB,GAAG,EAAE;QAAM,CAAE;QAAA3C,QAAA,gBAChE1D,OAAA;UAAKsD,KAAK,EAAE;YAAEsB,KAAK,EAAE,MAAM;YAAED,MAAM,EAAE,KAAK;YAAER,eAAe,EAAE;UAAM;QAAE;UAAAJ,QAAA,EAAA9E,YAAA;UAAA+E,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAC5EjE,OAAA;UAAA0D,QAAA,EAAM;QAAY;UAAAK,QAAA,EAAA9E,YAAA;UAAA+E,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAF,QAAA,EAAA9E,YAAA;QAAA+E,UAAA;QAAAC,YAAA;MAAA,OACtB,CAAC;IAAA;MAAAF,QAAA,EAAA9E,YAAA;MAAA+E,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAF,QAAA,EAAA9E,YAAA;IAAA+E,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAC/E,EAAA,CAlWuB6B,OAAO;AAAA4G,EAAA,GAAP5G,OAAO;AAAA,IAAA4G,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}